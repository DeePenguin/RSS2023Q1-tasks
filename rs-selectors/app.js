(()=>{"use strict";var t,e={8066:(t,e,i)=>{class s{constructor({parent:t=null,tag:e="div",className:i="",content:s="",attr:a}){this.node=document.createElement(e),this.node.className=i,this.node.innerHTML=s,a&&this.setAttributes(a),t&&t.append(this.node)}remove(){this.node.remove()}appendTo(t){t.append(this.node)}append(...t){const e=t.map((t=>t instanceof s?t.node:t));this.node.append(...e)}addListener(t,e){this.node.addEventListener(t,e)}setAttributes(t){Object.entries(t).forEach((([t,e])=>this.node.setAttribute(t,e)))}removeAttributes(...t){t.forEach((t=>this.node.removeAttribute(t)))}setContent(t){this.node.textContent=t}addClass(...t){this.node.classList.add(...t)}removeClass(...t){this.node.classList.remove(...t)}toggleClass(t,e){void 0===e?this.node.classList.toggle(t):this.node.classList.toggle(t,e)}get style(){return this.node.style}}class a{constructor(){this.listeners={}}on(t,e){return t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e),e}off(t,e){let i=this.listeners[t];i&&(i=i.filter((t=>t!==e)))}emit(t,e){const i=this.listeners[t];i&&i.forEach((t=>{t(e)}))}}const l=[{answer:"pot",description:"Select all pots",title:"A",elementsToSelectAmount:3,elements:[{tag:"pot",toSelect:!0,children:[{tag:"cactus"}]},{tag:"pot",toSelect:!0,class:"bowl",children:[{tag:"camomile"}]},{tag:"pot",toSelect:!0,children:[{tag:"seedling"}]}]},{answer:"#zebra cactus",description:"Select cactus in zebra pot",title:"#ID",elementsToSelectAmount:1,elements:[{tag:"pot",children:[{tag:"cactus"}]},{tag:"pot",attr:{id:"zebra"},children:[{tag:"cactus",toSelect:!0}]},{tag:"pot",class:"bowl",children:[{tag:"cactus"}]}]},{answer:".bowl .tall",description:"Select all tall cacti in bowl pots",title:".Class",elementsToSelectAmount:2,elements:[{tag:"pot",attr:{id:"teacup"},children:[{tag:"cactus",class:"tall"}]},{tag:"pot",class:"bowl",children:[{tag:"cactus",class:"tall",toSelect:!0}]},{tag:"pot",children:[{tag:"cactus"}]},{tag:"pot",class:"bowl",children:[{tag:"cactus",class:"tall",toSelect:!0,children:[{tag:"flower"}]}]}]},{answer:"camomile[color]",description:"Select all colored camomiles",title:"[Attribute]",elementsToSelectAmount:3,elements:[{tag:"pot",class:"bowl",children:[{tag:"camomile",attr:{color:"pink"},toSelect:!0}]},{tag:"pot",children:[{tag:"camomile",attr:{color:"blue"},toSelect:!0}]},{tag:"pot",class:"bowl",children:[{tag:"camomile"}]},{tag:"pot",attr:{id:"teacup"},children:[{tag:"camomile",attr:{color:"violet"},toSelect:!0}]}]},{answer:'[color*="in"]',maxLength:13,description:"Select pink and aquamarine camomiles. Max selector length: 13",title:'[Attribute*="wildcard"]',elementsToSelectAmount:2,elements:[{tag:"pot",class:"bowl",children:[{tag:"camomile",attr:{color:"pink"},toSelect:!0}]},{tag:"pot",children:[{tag:"camomile",attr:{color:"blue"}}]},{tag:"pot",children:[{tag:"camomile",attr:{color:"aquamarine"},toSelect:!0}]},{tag:"pot",class:"bowl",children:[{tag:"camomile",attr:{color:"violet"}}]}]},{answer:"pot:not(#zebra) *",description:"Select all plants in all pots except zebra",title:":not()",elementsToSelectAmount:3,elements:[{tag:"pot",class:"bowl",children:[{tag:"camomile",attr:{color:"pink"},toSelect:!0}]},{tag:"pot",attr:{id:"teacup"},children:[{tag:"seedling",toSelect:!0}]},{tag:"pot",attr:{id:"zebra"},children:[{tag:"cactus"}]},{tag:"pot",class:"bowl",children:[{tag:"flower",toSelect:!0}]}]},{answer:":where(#teacup, #zebra) cactus",description:"Select cacti in teacup and zebra pot",title:":where()",elementsToSelectAmount:2,elements:[{tag:"pot",class:"bowl",children:[{tag:"camomile"}]},{tag:"pot",attr:{id:"teacup"},children:[{tag:"cactus",class:"tall",toSelect:!0}]},{tag:"pot",attr:{id:"zebra"},children:[{tag:"cactus",toSelect:!0}]},{tag:"pot",class:"bowl",children:[{tag:"cactus"}]}]},{answer:":is([id], .bowl) cactus",maxLength:23,description:"Select cacti in teacup and bowl. Max selector length: 23",title:":is()",elementsToSelectAmount:2,elements:[{tag:"pot",class:"bowl",children:[{tag:"flower"}]},{tag:"pot",attr:{id:"teacup"},children:[{tag:"cactus",class:"tall",toSelect:!0}]},{tag:"pot",class:"bowl",children:[{tag:"cactus",toSelect:!0}]},{tag:"pot",children:[{tag:"cactus"}]}]},{answer:"pot:has(flower)",description:"Select pots with flowers",title:":has()",elementsToSelectAmount:2,elements:[{tag:"pot",toSelect:!0,children:[{tag:"flower"}]},{tag:"pot",class:"bowl",children:[{tag:"cactus",class:"tall"}]},{tag:"pot",children:[{tag:"seedling"}]},{tag:"pot",toSelect:!0,attr:{id:"teacup"},children:[{tag:"cactus",class:"tall",children:[{tag:"flower"}]}]}]},{answer:"pot:has( + pot cactus flower)",description:"Select all pots to the left of flowering cacti",title:"Relative :has()",elementsToSelectAmount:2,elements:[{tag:"pot",class:"bowl",toSelect:!0,children:[{tag:"cactus",class:"tall"}]},{tag:"pot",toSelect:!0,children:[{tag:"cactus",children:[{tag:"flower"}]}]},{tag:"pot",attr:{id:"teacup"},children:[{tag:"cactus",class:"tall",children:[{tag:"flower"}]}]},{tag:"pot",children:[{tag:"flower"}]}]}];var n=i(1042);const c="Type in a CSS selector",M={currentLevel:0,finishedLevels:new Set,finishedWithHint:new Set},L={pot:'<div class="border"></div><div class="bottom"></div>',seedling:'<div class="stem"></div>',camomile:'<div class="head"><div class="center"></div></div><div class="stem"></div>',flower:'<div class="head"><div class="center"></div></div><div class="stem"></div>'};var r=i(637);i(4905);class o extends s{constructor(t=0){super({className:"editor"}),this.linesAmount=t,this.header=new s({tag:"header",className:"editor__header"}),this.title=new s({parent:this.header,tag:"h2",className:"editor__title"}),this.fileName=new s({parent:this.header,className:"editor__filename"}),this.counter=new s({className:"editor__counter"}),this.content=new s({className:"editor__content"}),this.hljs=r.Z,this.createLinesCounter(),this.append(this.header,this.counter,this.content)}createLinesCounter(){this.linesAmount>0&&new Array(this.linesAmount).fill(0).map(((t,e)=>e+1)).forEach((t=>this.counter.append(new s({tag:"span",content:t.toString()}))))}}class h extends o{constructor(){super(19),this.elements=[],this.markupContainer=new s({className:"editor__markup",attr:{"data-opening":"<shelf>","data-ending":"</shelf>"}}),this.addClass("editor-html"),this.title.setContent("HTML Viewer"),this.fileName.setContent("table.html"),this.content.append(this.markupContainer),this.hljs.registerLanguage("xml",n.Z),this.hljs.configure({languages:["xml"]})}showLevel(t){this.elements=[],this.markupContainer.node.innerHTML="",this.createMarkup(t,this.markupContainer)}highlight(t){return this.hljs.highlight(t,{language:"xml"}).value}createMarkup(t,e){t.forEach((t=>{const i=new s({className:"markup"});let a=`<${t.tag}`;if(t.class&&(a+=` class="${t.class}"`),t.attr&&Object.entries(t.attr).forEach((([t,e])=>{a+=` ${t}="${e}"`})),t.children){a+=">";const e=`</${t.tag}>`;i.node.insertAdjacentHTML("beforeend",this.highlight(a)),this.createMarkup(t.children,i),i.node.insertAdjacentHTML("beforeend",this.highlight(e))}else a+=" />",i.node.insertAdjacentHTML("beforeend",this.highlight(a));e.append(i),this.elements.push(i.node)}))}}var u=i(836);class g extends o{constructor(t){super(1),this.emitter=t,this.answer=new s({className:"editor__answer"}),this.input=new s({parent:this.answer,tag:"textarea",className:"editor__input",attr:{rows:"1",placeholder:c,spellcheck:"false"}}),this.markup=new s({parent:this.answer,className:"editor__markup language-css",attr:{"data-placeholder":c}}),this.button=new s({tag:"button",className:"editor__button",content:"Enter",attr:{type:"button"}}),this.addClass("editor-css"),this.title.setContent("CSS Editor"),this.fileName.setContent("styles.css"),this.content.append(this.answer,this.button),this.hljs.registerLanguage("css",u.Z),this.input.addListener("keydown",(t=>this.handleKeydown(t))),this.input.addListener("input",(()=>this.handleInput())),this.button.addListener("click",(()=>this.emitCheck())),this.emitter.on("shakeEditor",(()=>{this.shake()})),this.emitter.on("finishGame",(()=>{this.clear()}))}handleKeydown(t){"Enter"===t.code&&(t.preventDefault(),this.emitCheck())}handleInput(){this.highlight()}highlight(){const t=this.input.node.value.replaceAll(" ","&nbsp;");this.markup.node.innerHTML=t,this.hljs.highlightElement(this.markup.node)}emitCheck(){this.emitter.emit("checkAnswer",this.input.node.value)}clear(){this.input.node.value="",this.markup.node.innerHTML=""}shake(){const t=()=>{this.removeClass("shake"),this.node.removeEventListener("animationend",t)};this.addClass("shake"),this.addListener("animationend",t)}typeAnswer(t){this.input.node.disabled=!0,this.clear();let e=0;setTimeout((()=>{const i=()=>{e!==t.length?(this.input.node.value+=t[e],e+=1,this.highlight(),setTimeout(i,200)):this.input.node.disabled=!1};i()}),300)}}class I extends s{constructor(t){super({className:"game__viewer"}),this.emitter=t,this.container=new s({className:"shelf"}).node,this.winBlock=new s({className:"win__container",content:'<div class="win__message">Hooray!<br>You did it!</div>'}),this.elements=[],this.selectedElements=[],this.append(this.container),this.winBlock.addListener("animationend",(()=>{this.winBlock.removeClass("active")})),this.emitter.on("finishGame",(()=>{this.showWinBlock()}))}clearContent(){this.elements=[],this.container.innerHTML=""}showLevel(t){this.clearContent(),this.createElements(t,this.container)}createElements(t,e){t.forEach((t=>{const i=document.createElement(t.tag);i.innerHTML=L[t.tag]||"",t.class&&(i.className=t.class),t.toSelect&&i.classList.add("animated"),t.attr&&Object.entries(t.attr).forEach((([t,e])=>i.setAttribute(t,e))),t.children&&this.createElements(t.children,i),i.append(this.createTooltip(t.tag)),e.append(i),this.elements.push(i)}))}createTooltip(t){const e=`<${t}></${t}>`,i=new s({className:"tooltip"});return i.setContent(e),i.node}applySelector(t,e){return this.selectedElements=Array.from(this.container.querySelectorAll(t)).filter((t=>"DIV"!==t.nodeName)),this.selectedElements.length===e&&this.selectedElements.every((t=>t.classList.contains("animated")))}completeLevel(){this.addClass("finish-level");const t=()=>{this.node.removeEventListener("animationend",t),this.removeClass("finish-level"),this.emitter.emit("completeAnimationEnds",null)};this.addListener("animationend",t)}showWrongAnswer(){const t=()=>{this.node.removeEventListener("animationend",t),this.selectedElements.forEach((t=>t.classList.remove("shake")))};this.selectedElements.length?(this.addListener("animationend",t),this.selectedElements.forEach((t=>t.classList.add("shake")))):this.emitter.emit("shakeEditor",null)}showWinBlock(){this.clearContent(),this.container.append(this.winBlock.node),this.winBlock.addClass("active")}}class j{constructor(t,e){this.emitter=t,this.gameField=e,this.header=new s({tag:"header",className:"game__header"}),this.hintButton=new s({parent:this.header,tag:"button",className:"game__hint-button",content:"?"}),this.title=new s({parent:this.header,tag:"h2",className:"game__title"}),this.htmlEditor=new h,this.viewer=new I(this.emitter),this.cssEditor=new g(this.emitter),this.gameField.append(this.header,this.viewer,this.cssEditor,this.htmlEditor),this.hintButton.addListener("click",(()=>this.emitHint())),this.emitter.on("checkAnswer",(t=>{this.checkAnswer(t)})),this.emitter.on("completeAnimationEnds",(()=>{this.emitter.emit("completeLevel",null)}))}emitHint(){this.emitter.emit("hint",null),this.cssEditor.typeAnswer(this.level.answer)}showLevel(t){this.level=t,this.cssEditor.clear(),this.title.setContent(t.description),this.viewer.showLevel(t.elements),this.htmlEditor.showLevel(t.elements),this.connectElements(this.viewer.elements,this.htmlEditor.elements)}checkAnswer(t){const e=!this.level.maxLength||t.length<=this.level.maxLength;try{if(t.includes("animated"))throw new Error;this.viewer.applySelector(t,this.level.elementsToSelectAmount)&&e?this.viewer.completeLevel():this.viewer.showWrongAnswer()}catch(t){this.emitter.emit("shakeEditor",null)}}connectElements(t,e){((...t)=>{t[0].forEach(((e,i)=>{const s=t.map((t=>t[i]));(t=>{t.forEach((e=>{e.addEventListener("mouseover",(e=>{e.stopPropagation(),t.forEach((t=>{t.classList.add("hovered")}))}))}))})(s),(t=>{t.forEach((e=>{e.addEventListener("mouseout",(e=>{e.stopPropagation(),t.forEach((t=>{t.classList.remove("hovered")}))}))}))})(s)}))})(t,e)}}const N=new s({tag:"header",className:"header",content:'<h1 class = "header__title">RS-Selectors</h1>'}),d='<div class ="bar"></div>'.repeat(3),y=new s({tag:"section",className:"levels",content:'<header class="levels__header">Choose a level</header>'}),m=new s({parent:y,className:"levels__burger",content:d});m.addListener("click",(()=>{m.toggleClass("open"),y.toggleClass("open")}));const S=new s({tag:"footer",className:"footer",content:'\n  <div class= "container">\n    <a class = "footer__link" target= "_blank" href="https://github.com/DeePenguin">\n      <img class = "footer__logo" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTgiIGhlaWdodD0iOTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC44NTQgMEMyMS44MzkgMCAwIDIyIDAgNDkuMjE3YzAgMjEuNzU2IDEzLjk5MyA0MC4xNzIgMzMuNDA1IDQ2LjY5IDIuNDI3LjQ5IDMuMzE2LTEuMDU5IDMuMzE2LTIuMzYyIDAtMS4xNDEtLjA4LTUuMDUyLS4wOC05LjEyNy0xMy41OSAyLjkzNC0xNi40Mi01Ljg2Ny0xNi40Mi01Ljg2Ny0yLjE4NC01LjcwNC01LjQyLTcuMTctNS40Mi03LjE3LTQuNDQ4LTMuMDE1LjMyNC0zLjAxNS4zMjQtMy4wMTUgNC45MzQuMzI2IDcuNTIzIDUuMDUyIDcuNTIzIDUuMDUyIDQuMzY3IDcuNDk2IDExLjQwNCA1LjM3OCAxNC4yMzUgNC4wNzQuNDA0LTMuMTc4IDEuNjk5LTUuMzc4IDMuMDc0LTYuNi0xMC44MzktMS4xNDEtMjIuMjQzLTUuMzc4LTIyLjI0My0yNC4yODMgMC01LjM3OCAxLjk0LTkuNzc4IDUuMDE0LTEzLjItLjQ4NS0xLjIyMi0yLjE4NC02LjI3NS40ODYtMTMuMDM4IDAgMCA0LjEyNS0xLjMwNCAxMy40MjYgNS4wNTJhNDYuOTcgNDYuOTcgMCAwIDEgMTIuMjE0LTEuNjNjNC4xMjUgMCA4LjMzLjU3MSAxMi4yMTMgMS42MyA5LjMwMi02LjM1NiAxMy40MjctNS4wNTIgMTMuNDI3LTUuMDUyIDIuNjcgNi43NjMuOTcgMTEuODE2LjQ4NSAxMy4wMzggMy4xNTUgMy40MjIgNS4wMTUgNy44MjIgNS4wMTUgMTMuMiAwIDE4LjkwNS0xMS40MDQgMjMuMDYtMjIuMzI0IDI0LjI4MyAxLjc4IDEuNTQ4IDMuMzE2IDQuNDgxIDMuMzE2IDkuMTI2IDAgNi42LS4wOCAxMS44OTctLjA4IDEzLjUyNiAwIDEuMzA0Ljg5IDIuODUzIDMuMzE2IDIuMzY0IDE5LjQxMi02LjUyIDMzLjQwNS0yNC45MzUgMzMuNDA1LTQ2LjY5MUM5Ny43MDcgMjIgNzUuNzg4IDAgNDguODU0IDB6IiBmaWxsPSIjZmZmIi8+PC9zdmc+"/>\n    </a>\n    <p class = "footer__copy">© DeePenguin 2023</p>\n    <a class = "footer__link" target= "_blank" href="https://rs.school/js/">\n      <img class = "footer__logo" src="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmlld0JveD0iMCAwIDU1Mi44IDIwNS4zIj48c3R5bGU+LnN0MHtmaWxsOiNmZmZ9LnN0MXtjbGlwLXBhdGg6dXJsKCNTVkdJRF8yXyl9LnN0MntjbGlwLXBhdGg6dXJsKCNTVkdJRF80Xyl9LnN0M3tjbGlwLXBhdGg6dXJsKCNTVkdJRF82Xyl9LnN0NHtjbGlwLXBhdGg6dXJsKCNTVkdJRF84Xyl9LnN0NXtmaWxsOiNmZmY7c3Ryb2tlOiMwMDA7c3Ryb2tlLXdpZHRoOjQ7c3Ryb2tlLW1pdGVybGltaXQ6MTB9LnN0NntjbGlwLXBhdGg6dXJsKCNTVkdJRF84Xyl9LnN0Niwuc3Q3e2ZpbGw6bm9uZTtzdHJva2U6IzAwMDtzdHJva2Utd2lkdGg6NDtzdHJva2UtbWl0ZXJsaW1pdDoxMH0uc3Q4LC5zdDl7Y2xpcC1wYXRoOnVybCgjU1ZHSURfMTBfKX0uc3Q5e2ZpbGw6bm9uZTtzdHJva2U6I2ZmZjtzdHJva2Utd2lkdGg6NDtzdHJva2UtbWl0ZXJsaW1pdDoxMH08L3N0eWxlPjx0aXRsZT5yc19zY2hvb2xfanM8L3RpdGxlPjxwYXRoIGQ9Ik0yODUuNCA2OGwyNi4zLTEuN2MuNiA0LjMgMS43IDcuNSAzLjUgOS44IDIuOSAzLjYgNi45IDUuNCAxMi4yIDUuNCAzLjkgMCA3LS45IDkuMS0yLjggMi0xLjUgMy4yLTMuOSAzLjItNi40IDAtMi40LTEuMS00LjctMy02LjItMi0xLjgtNi43LTMuNi0xNC4xLTUuMi0xMi4xLTIuNy0yMC44LTYuMy0yNS45LTEwLjktNS4xLTQuMy04LTEwLjYtNy44LTE3LjMgMC00LjYgMS40LTkuMiA0LTEzIDMtNC4zIDcuMS03LjcgMTItOS42IDUuMy0yLjMgMTIuNy0zLjUgMjItMy41IDExLjQgMCAyMC4xIDIuMSAyNi4xIDYuNCA2IDQuMiA5LjYgMTEgMTAuNyAyMC4zbC0yNiAxLjVjLS43LTQtMi4xLTYuOS00LjQtOC44cy01LjMtMi44LTkuMi0yLjhjLTMuMiAwLTUuNi43LTcuMiAyLTEuNSAxLjItMi41IDMtMi40IDUgMCAxLjUuOCAyLjkgMiAzLjggMS4zIDEuMiA0LjQgMi4zIDkuMyAzLjMgMTIuMSAyLjYgMjAuNyA1LjIgMjYgNy45IDUuMyAyLjcgOS4xIDYgMTEuNCA5LjkgMi40IDQgMy42IDguNiAzLjUgMTMuMyAwIDUuNi0xLjYgMTEuMi00LjggMTUuOS0zLjMgNC45LTcuOSA4LjctMTMuMyAxMS01LjcgMi41LTEyLjkgMy44LTIxLjUgMy44LTE1LjIgMC0yNS43LTIuOS0zMS42LTguOFMyODYuMSA3NyAyODUuNCA2OHpNNi4zIDk3LjZWOC4yaDQ2LjFjOC41IDAgMTUuMS43IDE5LjYgMi4yIDQuNCAxLjQgOC4zIDQuMyAxMC45IDguMiAyLjkgNC4zIDQuMyA5LjMgNC4yIDE0LjUuMyA4LjgtNC4yIDE3LjItMTEuOSAyMS42LTMgMS43LTYuMyAyLjktOS43IDMuNSAyLjUuNyA1IDEuOSA3LjIgMy4zIDEuNyAxLjQgMy4xIDMgNC40IDQuNyAxLjUgMS43IDIuOCAzLjYgMy45IDUuNmwxMy40IDI1LjlINjNMNDguMiA3MC4yYy0xLjktMy41LTMuNS01LjgtNS02LjktMi0xLjQtNC40LTIuMS02LjgtMi4xSDM0djM2LjNINi4zek0zNCA0NC40aDExLjdjMi41LS4yIDQuOS0uNiA3LjMtMS4yIDEuOC0uMyAzLjQtMS4zIDQuNS0yLjggMi43LTMuNiAyLjMtOC43LTEtMTEuOC0xLjgtMS41LTUuMy0yLjMtMTAuMy0yLjNIMzR2MTguMXpNMCAxNzQuMmwyNi4zLTEuN2MuNiA0LjMgMS43IDcuNSAzLjUgOS44IDIuOCAzLjYgNi45IDUuNSAxMi4yIDUuNSAzLjkgMCA3LS45IDkuMS0yLjggMi0xLjYgMy4yLTMuOSAzLjItNi40IDAtMi40LTEuMS00LjctMy02LjItMi0xLjgtNi43LTMuNi0xNC4yLTUuMi0xMi4xLTIuNy0yMC44LTYuMy0yNS45LTEwLjktNS4xLTQuMy04LTEwLjYtNy44LTE3LjMgMC00LjYgMS40LTkuMiA0LTEzIDMtNC4zIDcuMS03LjcgMTItOS42IDUuMy0yLjMgMTIuNy0zLjUgMjItMy41IDExLjQgMCAyMC4xIDIuMSAyNi4xIDYuNHM5LjUgMTEgMTAuNiAyMC4zbC0yNiAxLjVjLS43LTQtMi4xLTYuOS00LjQtOC44LTIuMi0xLjktNS4zLTIuOC05LjItMi43LTMuMiAwLTUuNi43LTcuMiAyLjEtMS42IDEuMi0yLjUgMy0yLjQgNSAwIDEuNS44IDIuOSAyIDMuOCAxLjMgMS4yIDQuNCAyLjMgOS4zIDMuMyAxMi4xIDIuNiAyMC43IDUuMiAyNiA3LjkgNS4zIDIuNyA5LjEgNiAxMS40IDkuOSAyLjQgNCAzLjYgOC42IDMuNiAxMy4yIDAgNS42LTEuNyAxMS4xLTQuOCAxNS44LTMuMyA0LjktNy45IDguNy0xMy4zIDExLTUuNyAyLjUtMTIuOSAzLjgtMjEuNSAzLjgtMTUuMiAwLTI1LjctMi45LTMxLjYtOC44LTUuOS02LTkuMi0xMy40LTEwLTIyLjR6Ii8+PHBhdGggZD0iTTEzMyAxNjcuMmwyNC4yIDcuM2MtMS4zIDYuMS00IDExLjktNy43IDE3LTMuNCA0LjUtNy45IDgtMTMgMTAuMy01LjIgMi4zLTExLjggMy41LTE5LjggMy41LTkuNyAwLTE3LjctMS40LTIzLjgtNC4yLTYuMi0yLjgtMTEuNS03LjgtMTYtMTQuOS00LjUtNy4xLTYuNy0xNi4yLTYuNy0yNy4zIDAtMTQuOCAzLjktMjYuMiAxMS44LTM0LjFzMTktMTEuOSAzMy40LTExLjljMTEuMyAwIDIwLjEgMi4zIDI2LjYgNi44IDYuNCA0LjYgMTEuMiAxMS42IDE0LjQgMjFsLTI0LjQgNS40Yy0uNi0yLjEtMS41LTQuMi0yLjctNi0xLjUtMi4xLTMuNC0zLjctNS43LTQuOS0yLjMtMS4yLTQuOS0xLjctNy41LTEuNy02LjMgMC0xMS4xIDIuNS0xNC40IDcuNi0yLjUgMy43LTMuOCA5LjYtMy44IDE3LjYgMCA5LjkgMS41IDE2LjcgNC41IDIwLjQgMyAzLjcgNy4yIDUuNSAxMi43IDUuNSA1LjMgMCA5LjMtMS41IDEyLTQuNCAyLjctMy4xIDQuNy03LjQgNS45LTEzem01Ni41LTUyLjhoMjcuNnYzMS4zaDMwLjJ2LTMxLjNoMjcuOHY4OS40aC0yNy44di0zNi4yaC0zMC4ydjM2LjJoLTI3LjZ2LTg5LjR6Ii8+PHBhdGggZD0iTTI3MS4zIDE1OS4xYzAtMTQuNiA0LjEtMjYgMTIuMi0zNC4xIDguMS04LjEgMTkuNS0xMi4yIDM0LTEyLjIgMTQuOSAwIDI2LjMgNCAzNC40IDEyUzM2NCAxNDQgMzY0IDE1OC40YzAgMTAuNS0xLjggMTktNS4zIDI1LjctMy40IDYuNi04LjcgMTItMTUuMiAxNS42LTYuNyAzLjctMTUgNS42LTI0LjkgNS42LTEwLjEgMC0xOC40LTEuNi0yNS00LjgtNi44LTMuNC0xMi40LTguNy0xNi4xLTE1LjItNC4xLTctNi4yLTE1LjctNi4yLTI2LjJ6bTI3LjYuMWMwIDkgMS43IDE1LjUgNSAxOS41IDMuMyAzLjkgNy45IDUuOSAxMy43IDUuOSA1LjkgMCAxMC41LTEuOSAxMy44LTUuOHM0LjktMTAuOCA0LjktMjAuOGMwLTguNC0xLjctMTQuNi01LjEtMTguNC0zLjQtMy45LTgtNS44LTEzLjgtNS44LTUuMS0uMi0xMCAyLTEzLjQgNS45LTMuNCAzLjktNS4xIDEwLjQtNS4xIDE5LjV6bTkzLjQtLjFjMC0xNC42IDQuMS0yNiAxMi4yLTM0LjEgOC4xLTguMSAxOS41LTEyLjIgMzQtMTIuMiAxNC45IDAgMjYuNCA0IDM0LjQgMTJTNDg1IDE0NCA0ODUgMTU4LjRjMCAxMC41LTEuOCAxOS01LjMgMjUuNy0zLjQgNi42LTguNyAxMi0xNS4yIDE1LjYtNi43IDMuNy0xNSA1LjYtMjQuOSA1LjYtMTAuMSAwLTE4LjQtMS42LTI1LTQuOC02LjgtMy40LTEyLjQtOC43LTE2LjEtMTUuMi00LjEtNy02LjItMTUuNy02LjItMjYuMnptMjcuNi4xYzAgOSAxLjcgMTUuNSA1IDE5LjUgMy4zIDMuOSA3LjkgNS45IDEzLjcgNS45IDUuOSAwIDEwLjUtMS45IDEzLjgtNS44IDMuMy0zLjkgNC45LTEwLjggNC45LTIwLjggMC04LjQtMS43LTE0LjYtNS4xLTE4LjQtMy40LTMuOS04LTUuOC0xMy44LTUuOC01LjEtLjItMTAuMSAyLTEzLjQgNS45LTMuNCAzLjktNS4xIDEwLjQtNS4xIDE5LjV6Ii8+PHBhdGggZD0iTTQ4Mi4xIDExNC40aDI3LjZ2NjcuNGg0My4xdjIySDQ4MnYtODkuNHoiLz48ZWxsaXBzZSB0cmFuc2Zvcm09InJvdGF0ZSgtMzcuMDAxIDQyMC40NiA2Ny44OCkiIGNsYXNzPSJzdDAiIGN4PSI0MjAuNSIgY3k9IjY3LjkiIHJ4PSI2MyIgcnk9IjUxLjgiLz48ZGVmcz48ZWxsaXBzZSBpZD0iU1ZHSURfMV8iIHRyYW5zZm9ybT0icm90YXRlKC0zNy4wMDEgNDIwLjQ2IDY3Ljg4KSIgY3g9IjQyMC41IiBjeT0iNjcuOSIgcng9IjYzIiByeT0iNTEuOCIvPjwvZGVmcz48Y2xpcFBhdGggaWQ9IlNWR0lEXzJfIj48dXNlIHhsaW5rOmhyZWY9IiNTVkdJRF8xXyIgb3ZlcmZsb3c9InZpc2libGUiLz48L2NsaXBQYXRoPjxnIGNsYXNzPSJzdDEiPjxwYXRoIHRyYW5zZm9ybT0icm90YXRlKC0zNy4wMDEgNDIwLjgyIDY4LjM1MykiIGNsYXNzPSJzdDAiIGQ9Ik0zMzAuOS0xNC4yaDE3OS44djE2NS4xSDMzMC45eiIvPjxnIGlkPSJMYXllcl8yXzFfIj48ZGVmcz48cGF0aCBpZD0iU1ZHSURfM18iIHRyYW5zZm9ybT0icm90YXRlKC0zNy4wMDEgNDIwLjgyIDY4LjM1MykiIGQ9Ik0zMzAuOS0xNC4yaDE3OS44djE2NS4xSDMzMC45eiIvPjwvZGVmcz48Y2xpcFBhdGggaWQ9IlNWR0lEXzRfIj48dXNlIHhsaW5rOmhyZWY9IiNTVkdJRF8zXyIgb3ZlcmZsb3c9InZpc2libGUiLz48L2NsaXBQYXRoPjxnIGlkPSJMYXllcl8xLTIiIGNsYXNzPSJzdDIiPjxlbGxpcHNlIHRyYW5zZm9ybT0icm90YXRlKC0zNy4wMDEgNDIwLjQ2IDY3Ljg4KSIgY2xhc3M9InN0MCIgY3g9IjQyMC41IiBjeT0iNjcuOSIgcng9IjYzIiByeT0iNTEuOCIvPjxkZWZzPjxlbGxpcHNlIGlkPSJTVkdJRF81XyIgdHJhbnNmb3JtPSJyb3RhdGUoLTM3LjAwMSA0MjAuNDYgNjcuODgpIiBjeD0iNDIwLjUiIGN5PSI2Ny45IiByeD0iNjMiIHJ5PSI1MS44Ii8+PC9kZWZzPjxjbGlwUGF0aCBpZD0iU1ZHSURfNl8iPjx1c2UgeGxpbms6aHJlZj0iI1NWR0lEXzVfIiBvdmVyZmxvdz0idmlzaWJsZSIvPjwvY2xpcFBhdGg+PGcgY2xhc3M9InN0MyI+PHBhdGggdHJhbnNmb3JtPSJyb3RhdGUoLTM3IDQyMC43OTkgNjguODAyKSIgY2xhc3M9InN0MCIgZD0iTTM1Ny44IDE3aDEyNS45djEwMy43SDM1Ny44eiIvPjxkZWZzPjxwYXRoIGlkPSJTVkdJRF83XyIgdHJhbnNmb3JtPSJyb3RhdGUoLTM3IDQyMC43OTkgNjguODAyKSIgZD0iTTM1Ny44IDE3aDEyNS45djEwMy43SDM1Ny44eiIvPjwvZGVmcz48Y2xpcFBhdGggaWQ9IlNWR0lEXzhfIj48dXNlIHhsaW5rOmhyZWY9IiNTVkdJRF83XyIgb3ZlcmZsb3c9InZpc2libGUiLz48L2NsaXBQYXRoPjxnIGNsYXNzPSJzdDQiPjxlbGxpcHNlIHRyYW5zZm9ybT0icm90YXRlKC0zNy4wMDEgNDIwLjQ2IDY3Ljg4KSIgY2xhc3M9InN0NSIgY3g9IjQyMC41IiBjeT0iNjcuOSIgcng9IjYzIiByeT0iNTEuOCIvPjwvZz48cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtMzcgNDIwLjc5OSA2OC44MDIpIiBjbGFzcz0ic3Q2IiBkPSJNMzU3LjggMTdoMTI1Ljl2MTAzLjdIMzU3Ljh6Ii8+PGVsbGlwc2UgdHJhbnNmb3JtPSJyb3RhdGUoLTM3LjAwMSA0MjAuNDYgNjcuODgpIiBjbGFzcz0ic3Q3IiBjeD0iNDIwLjUiIGN5PSI2Ny45IiByeD0iNjMiIHJ5PSI1MS44Ii8+PHBhdGggdHJhbnNmb3JtPSJyb3RhdGUoLTM3IDQyMC43OTkgNjguODAyKSIgY2xhc3M9InN0MCIgZD0iTTM1Ny44IDE3aDEyNS45djEwMy43SDM1Ny44eiIvPjxkZWZzPjxwYXRoIGlkPSJTVkdJRF85XyIgdHJhbnNmb3JtPSJyb3RhdGUoLTM3IDQyMC43OTkgNjguODAyKSIgZD0iTTM1Ny44IDE3aDEyNS45djEwMy43SDM1Ny44eiIvPjwvZGVmcz48Y2xpcFBhdGggaWQ9IlNWR0lEXzEwXyI+PHVzZSB4bGluazpocmVmPSIjU1ZHSURfOV8iIG92ZXJmbG93PSJ2aXNpYmxlIi8+PC9jbGlwUGF0aD48ZyBjbGFzcz0ic3Q4Ij48ZWxsaXBzZSB0cmFuc2Zvcm09InJvdGF0ZSgtMzcuMDAxIDQyMC40NiA2Ny44OCkiIGNsYXNzPSJzdDUiIGN4PSI0MjAuNSIgY3k9IjY3LjkiIHJ4PSI2MyIgcnk9IjUxLjgiLz48L2c+PHBhdGggdHJhbnNmb3JtPSJyb3RhdGUoLTM3IDQyMC43OTkgNjguODAyKSIgY2xhc3M9InN0OSIgZD0iTTM1Ny44IDE3aDEyNS45djEwMy43SDM1Ny44eiIvPjxwYXRoIHRyYW5zZm9ybT0icm90YXRlKC0zNy4wMDEgNDIwLjgyIDY4LjM1MykiIGNsYXNzPSJzdDciIGQ9Ik0zMzAuOS0xNC4yaDE3OS44djE2NS4xSDMzMC45eiIvPjwvZz48ZWxsaXBzZSB0cmFuc2Zvcm09InJvdGF0ZSgtMzcuMDAxIDQyMC40NiA2Ny44OCkiIGNsYXNzPSJzdDciIGN4PSI0MjAuNSIgY3k9IjY3LjkiIHJ4PSI2MyIgcnk9IjUxLjgiLz48cGF0aCBkPSJNMzkyLjQgNjEuM2wxMC03IDEyLjMgMTcuNWMyLjEgMi44IDMuNyA1LjggNC45IDkuMS43IDIuNS41IDUuMi0uNSA3LjYtMS4zIDMtMy40IDUuNS02LjIgNy4zLTMuMyAyLjMtNi4xIDMuNi04LjUgNC0yLjMuNC00LjcgMC02LjktMS0yLjQtMS4yLTQuNS0yLjktNi4xLTUuMWw4LjYtOGMuNyAxLjEgMS42IDIuMSAyLjYgMi45LjcuNSAxLjUuOCAyLjQuOC43IDAgMS40LS4zIDEuOS0uNyAxLS42IDEuNy0xLjggMS42LTMtLjMtMS43LTEtMy40LTIuMS00LjdsLTE0LTE5Ljd6bTMwIDExLjFsOS4xLTcuMmMxIDEuMiAyLjMgMi4xIDMuNyAyLjYgMiAuNiA0LjEuMiA1LjgtMS4xIDEuMi0uOCAyLjItMS45IDIuNi0zLjMuNi0xLjgtLjQtMy44LTIuMi00LjQtLjMtLjEtLjYtLjItLjktLjItMS4yLS4xLTMuMy40LTYuNCAxLjctNS4xIDIuMS05LjEgMi45LTEyLjEgMi42LTIuOS0uMy01LjYtMS44LTcuMi00LjMtMS4yLTEuNy0xLjgtMy43LTEuOS01LjcgMC0yLjMuNi00LjYgMS45LTYuNSAxLjktMi43IDQuMi01IDctNi44IDQuMi0yLjkgNy45LTQuMyAxMS4xLTQuMyAzLjIgMCA2LjIgMS41IDkgNC42bC05IDcuMWMtMS44LTIuMy01LjItMi44LTcuNS0xbC0uMy4zYy0xIC42LTEuNyAxLjUtMi4xIDIuNi0uMy44LS4xIDEuNy40IDIuNC40LjUgMSAuOSAxLjcuOS44LjEgMi4yLS4zIDQuMi0xLjIgNS0yLjEgOC44LTMuMyAxMS40LTMuNyAyLjItLjQgNC41LS4yIDYuNi43IDEuOS44IDMuNSAyLjIgNC42IDMuOSAxLjQgMiAyLjIgNC40IDIuMyA2LjkuMSAyLjYtLjYgNS4xLTIgNy4zLTEuOCAyLjctNC4xIDUtNi44IDYuOC01LjUgMy44LTEwIDUuNC0xMy42IDQuOC0zLjktLjYtNy4xLTIuNi05LjQtNS41eiIvPjwvZz48L2c+PC9nPjwvc3ZnPg=="/>\n    </a>\n  </div>\n'}),D=new s({tag:"section",className:"game"});class T{constructor(){this.header=N,this.footer=S,this.levels=y,this.gameField=D}create(t){t.append(N,D,y,S)}}class A extends s{constructor(t,e,i,s,a=[]){super({parent:t,tag:"ul",className:"levels-list"}),this.emitter=e,this.listItems=a,this.createList(i,s),this.emitter.on("resetProgress",(()=>{this.reset()}))}createList(t,e){t.forEach(((t,e)=>{const i=new s({parent:this,tag:"li",className:"level__item",content:`<span class="level__number">${e+1}</span>\n        <span class="level__title">${t.title}</span>`});i.addListener("click",(()=>{this.emitter.emit("selectLevel",this.listItems.indexOf(i))})),this.listItems.push(i)})),this.checkCurrent(e.currentLevel),e.finishedLevels.forEach((t=>{this.checkAsCompleted(t)})),e.finishedWithHint.forEach((t=>{this.checkAsHinted(t)}))}checkAsCompleted(t){this.listItems[t].addClass("completed")}checkAsHinted(t){this.listItems[t].addClass("hinted")}removeHint(t){this.listItems[t].removeClass("hinted")}checkCurrent(t){this.listItems.forEach((t=>t.removeClass("current"))),this.listItems[t].addClass("current")}reset(){this.listItems.forEach((t=>t.removeClass("completed","hinted")))}completeLevel(t,e){this.checkAsCompleted(t),e||this.removeHint(t)}}class p extends s{constructor(t){super({tag:"button",className:"levels__reset",content:"Reset progress"}),this.emitter=t,this.addListener("click",(()=>{this.emitter.emit("resetProgress",null)}))}}class x{constructor(){this.lsPrefix="deepee-selectors"}getData(){const t=localStorage.getItem(this.lsPrefix);return t?JSON.parse(t,((t,e)=>Array.isArray(e)?new Set(e):e)):M}saveData(t){const e=JSON.stringify(t,((t,e)=>e instanceof Set?Array.from(e):e));localStorage.setItem(this.lsPrefix,e)}}(new class{constructor(){this.root=new s({parent:document.body,className:"root"}),this.layout=new T,this.storage=new x,this.emitter=new a,this.resetBtn=new p(this.emitter),this.levels=l,this.hintWasUsed=!1,this.isFinished=!1}init(){this.layout.create(this.root),this.gameData=this.storage.getData(),this.levelsList=new A(this.layout.levels,this.emitter,this.levels,this.gameData),this.layout.levels.append(this.resetBtn),this.game=new j(this.emitter,this.layout.gameField),this.game.showLevel(this.levels[this.gameData.currentLevel]),this.emitter.on("selectLevel",(t=>{this.changeLevel(t)})),this.emitter.on("hint",(()=>{this.handleHint()})),this.emitter.on("completeLevel",(()=>{this.completeLevel()})),this.emitter.on("resetProgress",(()=>{this.resetProgress()}))}changeLevel(t){(t!==this.gameData.currentLevel||this.isFinished)&&(this.isFinished=!1,this.hintWasUsed=!1,this.gameData.currentLevel=t,this.game.showLevel(this.levels[t]),this.levelsList.checkCurrent(t),this.saveData())}completeLevel(){this.updateGameData(),this.levelsList.completeLevel(this.gameData.currentLevel,this.hintWasUsed),this.gameData.currentLevel===this.levels.length-1?(this.saveData(),this.isFinished=!0,this.emitter.emit("finishGame",null)):this.changeLevel(this.gameData.currentLevel+1)}handleHint(){this.hintWasUsed=!0,this.gameData.finishedWithHint.add(this.gameData.currentLevel),this.levelsList.checkAsHinted(this.gameData.currentLevel),this.saveData()}updateGameData(){const t=this.gameData.finishedWithHint.has(this.gameData.currentLevel);this.gameData.finishedLevels.add(this.gameData.currentLevel),this.hintWasUsed||t===this.hintWasUsed||this.gameData.finishedWithHint.delete(this.gameData.currentLevel)}saveData(){this.storage.saveData(this.gameData)}resetProgress(){this.gameData.finishedLevels.clear(),this.gameData.finishedWithHint.clear(),this.changeLevel(0)}}).init()}},i={};function s(t){var a=i[t];if(void 0!==a)return a.exports;var l=i[t]={exports:{}};return e[t](l,l.exports,s),l.exports}s.m=e,t=[],s.O=(e,i,a,l)=>{if(!i){var n=1/0;for(r=0;r<t.length;r++){for(var[i,a,l]=t[r],c=!0,M=0;M<i.length;M++)(!1&l||n>=l)&&Object.keys(s.O).every((t=>s.O[t](i[M])))?i.splice(M--,1):(c=!1,l<n&&(n=l));if(c){t.splice(r--,1);var L=a();void 0!==L&&(e=L)}}return e}l=l||0;for(var r=t.length;r>0&&t[r-1][2]>l;r--)t[r]=t[r-1];t[r]=[i,a,l]},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={143:0};s.O.j=e=>0===t[e];var e=(e,i)=>{var a,l,[n,c,M]=i,L=0;if(n.some((e=>0!==t[e]))){for(a in c)s.o(c,a)&&(s.m[a]=c[a]);if(M)var r=M(s)}for(e&&e(i);L<n.length;L++)l=n[L],s.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return s.O(r)},i=self.webpackChunkrs_selectors=self.webpackChunkrs_selectors||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var a=s.O(void 0,[857],(()=>s(8066)));a=s.O(a)})();